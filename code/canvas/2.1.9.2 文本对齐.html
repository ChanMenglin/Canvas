<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>2.1.9.2 文本对齐</title>
    </head>
    <style>
        * {
            margin: 50px auto;
            text-align: center;
        }
        @media (prefers-color-scheme: dark) {
          body { background: black; color:  #ddd; }
        }

        @media (prefers-color-scheme: light) {
          body { background:  #eee; color: black; }
        }
    </style>
    <body>
      <h1>文本对齐</h1>
      <canvas id="canvas" style="border: 1px solid #aaa; display:block;"></canvas>
      context.textBaseline = <font id="value">1.0</font>
      <select id="select">
          <option value="top">top</option>
          <option value="middle">middle</option>
          <option value="bottom">bottom</option>
          <option value="alphabetic" selected>alphabetic(default) - 基于拉丁字母的语言</option>
          <option value="ideographic">ideographic - 基于汉子、日本文字等方块文字</option>
          <option value="hanging">hanging - 基于印度语 </option>
      </select>
      <script>
        var canvas = document.getElementById("canvas")
        var context = canvas.getContext('2d')
        var select = document.getElementById('select')

        canvas.width = 800
        canvas.height = 800

        context.textBaseline = select.value // 全局透明度

        drawCanvas()

        function drawCanvas() {
          var x = canvas.width / 10
          var y = canvas.height / 2

          context.clearRect(0, 0, canvas.width, canvas.height)
          context.save()
          context.beginPath()
          context.lineWidth = 1
          context.strokeStyle = 'red'
          context.moveTo(0, y)
          context.lineTo(canvas.width, y)
          context.stroke()

          context.beginPath()
          context.font = 'bold 40px Arial'
          context.fillStyle = '#058'
          context.fillText('English 中卫 日本語 हिन्दी', x, y)

          context.restore()
        }
        select.onchange = function (e) {
          context.textBaseline = e.target.value
          drawCanvas()
        }
      </script>
    </body>
</html>
